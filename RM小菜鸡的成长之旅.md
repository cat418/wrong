# RMå°èœé¸¡çš„æˆé•¿ä¹‹æ—…

## å…³äº.gitignore

\#.gitignoreæ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶,ç”¨äºå‘Šè¯‰Gitå¿½ç•¥æŸäº›æ–‡ä»¶æˆ–ç›®å½•ï¼Œä½¿å…¶ä¸ä¼šè¢«æäº¤åˆ°ç‰ˆæœ¬åº“ä¸­ æ’é™¤ä¸éœ€è¦ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ å¦‚:ç³»ç»Ÿä¸´æ—¶æ–‡ä»¶ï¼ŒIDEæ–‡ä»¶ï¼Œç¯å¢ƒé…ç½®æ–‡ä»¶ï¼Œä¾èµ–ç¼“å­˜æ–‡ä»¶,å¯†é’¥æ–‡ä»¶ç­‰ã€‚

ä½œç”¨:å‡å°ä»£ç åº“ä½“ç§¯ï¼Œä¿æŠ¤éšç§ä¿¡æ¯

==å¸¸è§çš„è§„åˆ™:==

``` c++
example.log 	//å¿½ç•¥example.logæ–‡ä»¶
node/  			//å¿½ç•¥ç‰¹å®šç›®å½•
*.log 			//å¿½ç•¥æ‰€æœ‰æ‹“å±•åçš„æ–‡ä»¶
tmp/*   		//åŒ¹é…tmpç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹    
.env   			//å¿½ç•¥æœ¬åœ°ç¯å¢ƒæ–‡ä»¶
logs/*
!logs/work      //å¿½ç•¥logsç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶,ä½†ä¼šä¿ç•™logs/work
```

## å…³äºé•œåƒ

#åœ¨Dockerä¸­ï¼Œé•œåƒæ˜¯ä¸€ä¸ªåŒ…å«äº†åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–ç¯å¢ƒçš„åªè¯»æ¨¡ç‰ˆã€‚é•œåƒç”¨æ¥åˆ›å»ºå®¹å™¨ï¼Œå®¹å™¨æ˜¯é•œåƒçš„è¿è¡Œå®ä¾‹ã€‚

**é•œåƒæ˜¯è½»é‡çº§çš„æ‰“åŒ…å•å…ƒ**ï¼šå®ƒåŒ…å«äº†æ“ä½œç³»ç»Ÿã€ä¾èµ–ç¯å¢ƒã€é…ç½®æ–‡ä»¶ã€åº”ç”¨ç¨‹åºä»£ç ç­‰ã€‚

**é•œåƒæ˜¯é™æ€çš„**ï¼šå®ƒæ˜¯åªè¯»çš„ï¼Œæ— æ³•ç›´æ¥ä¿®æ”¹ã€‚

å®¹å™¨æ˜¯åŸºäºé•œåƒå®ä¾‹åŒ–å‡ºæ¥çš„ï¼Œå¯ä»¥ç†è§£ä¸ºâ€œé•œåƒçš„è¿è¡Œç¯å¢ƒâ€ã€‚

é•œåƒæœ¬èº«å¹¶ä¸å ç”¨å†…å­˜ï¼Œåªå ç”¨ç£ç›˜å­˜å‚¨ç©ºé—´ã€‚[å†…å­˜å’Œå­˜å‚¨ç©ºé—´çš„åŒºåˆ«](#å†…å­˜å’Œå­˜å‚¨ç©ºé—´çš„åŒºåˆ«)



![é•œåƒå’Œå®¹å™¨çš„åŒºåˆ«](https://github.com/cat418/wrong/blob/main/%E5%B0%8F%E8%8F%9C%E9%B8%A1picture/5.png)

![ä¸åŒçš„é•œåƒç±»å‹](https://github.com/cat418/wrong/blob/main/%E5%B0%8F%E8%8F%9C%E9%B8%A1picture/3.png)

## å…³äºDocker

#Dockeræ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨åŒ–å¹³å°ï¼Œé€šè¿‡åˆ›å»ºå®¹å™¨æ‰“åŒ…ä¾èµ–é¡¹ï¼Œç¡®ä¿ä»£ç èƒ½åœ¨ä»»ä½•å¼€å‘ç¯å¢ƒä¸­ä¸€è‡´çš„è¿è¡Œã€‚

é™¤äº†Dockerè¿˜æœ‰Podmanç­‰å®¹å™¨åŒ–å¹³å°ï¼Œæœ‰å…´è¶£å¯æŸ¥çœ‹ä¸‹è¡¨

![image-20241208100254159](https://github.com/cat418/wrong/blob/main/%E5%B0%8F%E8%8F%9C%E9%B8%A1picture/2.png)

## å…³äºDckerfile



## å…³äºå†…å­˜å’Œå­˜å‚¨ç©ºé—´çš„åŒºåˆ«

![åŒºåˆ«](https://github.com/cat418/wrong/blob/main/%E5%B0%8F%E8%8F%9C%E9%B8%A1picture/1.png)

## å…³äºç”Ÿå‘½å‘¨æœŸé—®é¢˜

åˆšå…¥é˜Ÿæ—¶ï¼Œå­¦é•¿æ€»æé†’æˆ‘ä»¬ä»£ç ç¼–å†™è¦è€ƒè™‘åˆ°ç”Ÿå‘½å‘¨æœŸçš„é—®é¢˜ï¼Œæ‰€ä»¥ç”Ÿå‘½å‘¨æœŸåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ ğŸ¤”

#ä»£ç çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»ä»£ç åˆ›å»ºåˆ°æœ€ç»ˆé€€å½¹çš„å®Œæ•´è¿‡ç¨‹ã€‚

![ä½œç”¨](https://github.com/cat418/wrong/blob/main/%E5%B0%8F%E8%8F%9C%E9%B8%A1picture/4.png)

## å…³äºROS2

[å­¦ä¹ ç½‘ç«™](https://docs.ros.org/en/jazzy/Installation.html)

#åœ¨ ROSï¼ˆRobot Operating Systemï¼‰ä¸­ï¼Œ`package.xml` æ˜¯æè¿°è½¯ä»¶åŒ…ï¼ˆpackageï¼‰å…ƒæ•°æ®çš„é…ç½®æ–‡ä»¶ã€‚æ¯ä¸ª ROS è½¯ä»¶åŒ…éƒ½æœ‰ä¸€ä¸ª `package.xml` æ–‡ä»¶ï¼Œç”¨äºå®šä¹‰è¯¥è½¯ä»¶åŒ…çš„åŸºæœ¬ä¿¡æ¯ã€ä¾èµ–å…³ç³»å’Œå…¶ä»–å…ƒæ•°æ®ã€‚

`package.xml` æ˜¯ ROS è½¯ä»¶åŒ…çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼ŒCMake å’Œ ROS å·¥å…·åœ¨ç¼–è¯‘å’Œè¿è¡Œæ—¶éƒ½ä¼šå‚è€ƒè¿™ä¸ªæ–‡ä»¶ã€‚

#**å®šä¹‰è½¯ä»¶åŒ…ä¿¡æ¯**ï¼š
åŒ…æ‹¬è½¯ä»¶åŒ…çš„åç§°ã€ç‰ˆæœ¬ã€æè¿°ã€ç»´æŠ¤è€…ä¿¡æ¯ç­‰ã€‚

**å£°æ˜ä¾èµ–å…³ç³»**ï¼š
æ˜ç¡®è¯¥è½¯ä»¶åŒ…ä¾èµ–äºå“ªäº›å…¶ä»– ROS è½¯ä»¶åŒ…æˆ–ç³»ç»Ÿåº“ã€‚

**æä¾›å·¥å…·æ”¯æŒ**ï¼š
ç”¨äº `rosdep` å·¥å…·è¿›è¡Œä¾èµ–ç®¡ç†ï¼Œè‡ªåŠ¨å®‰è£…ä¾èµ–ã€‚

**æ–¹ä¾¿è½¯ä»¶åŒ…çš„å‘ç°**ï¼š
å…¶ä»–ç”¨æˆ·æˆ– ROS å·¥å…·å¯ä»¥é€šè¿‡ `package.xml` ç¡®å®šä¸€ä¸ªè½¯ä»¶åŒ…çš„åŠŸèƒ½æˆ–ä¾èµ–ä¿¡æ¯ã€‚

### **1.declare_parameter**

æ˜¯ROS2ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¸»è¦ç”¨äºåœ¨èŠ‚ç‚¹ä¸­å£°æ˜å‚æ•°ï¼Œå…è®¸ä¸ºèŠ‚ç‚¹æ³¨å†Œä¸€ä¸ªå‚æ•°ï¼Œå¹¶æŒ‡å®šæ”¹å‚æ•°çš„åç§°ã€ç±»å‹åŠå¯é€‰çš„é»˜è®¤å€¼ï¼Œåœ¨ROS2ä¸­ï¼Œå‚æ•°æ˜¯ä¸€ç§åŠ¨æ€é…ç½®çš„æœºåˆ¶ï¼Œå…è®¸ç”¨æˆ·åœ¨èŠ‚ç‚¹è¿è¡Œæ—¶æ”¹å˜å…¶è¡Œä¸ºã€‚

### **2.TF2**

#:æœºå™¨äººç³»ç»Ÿä¸­å¯èƒ½æœ‰å¤šä¸ªåæ ‡ç³»ï¼Œæ¯”å¦‚ **"map"**ã€**"odom"**ã€**"base_link"** å’Œ **"camera_link"**ã€‚

`tf2` ç”¨æ¥ç®¡ç†è¿™äº›åæ ‡ç³»ä¹‹é—´çš„å…³ç³»å’Œè½¬æ¢ã€‚

### **3.åæ ‡ç³»**

**imu(æƒ¯æ€§æµ‹é‡å•å…ƒ)ï¼š**æ˜¯ä¸€ç§èƒ½å¤Ÿæµ‹é‡ç‰©ä½“åœ¨ä¸‰ç»´ç©ºé—´ä¸­è¿åŠ¨çŠ¶æ€çš„ä¼ æ„Ÿå™¨ã€‚

**æƒ¯æ€§åæ ‡ç³»: **æ˜¯imuç¬¬ä¸€æ¬¡é€šç”µæ—¶çš„åæ ‡ç³»ã€‚(æ˜¯å›ºå®šçš„ä¸€ä¸ªæŠ½è±¡å‡ºæ¥çš„åæ ‡ç³»)

**imu_frameï¼ˆimuåæ ‡ç³»ï¼‰:**å°è½¦ä¸Šimuå’Œè£…ç”²æ¿åœ¨ä¸€æ¡ç›´çº¿ä¸Š,æœå‘ç›¸åŒ,imuåæ ‡ç³»ä¼šå’Œè£…ç”²æ¿ä¸€èµ·æ—‹è½¬ã€‚

è¦å®ç°**camera_frame->imu_frame->æƒ¯æ€§ç³»** çš„è½¬æ¢

## å…³äºlinuxæŒ‡ä»¤

``` c++
ls -a //åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶
```

## å…³äº #include <eigen3/Eigen/Core>

Eigenæ˜¯ä¸€ä¸ªæœ‰æ•ˆæ”¯æŒçº¿æ€§ä»£æ•°ï¼ŒçŸ©é˜µå’ŒçŸ¢é‡è¿ç®—ï¼Œæ•°å€¼åˆ†æåŠå…¶ç›¸å…³çš„ç®—æ³•çš„C ++å¼€æºåº“.

### çŸ©é˜µå’Œå‘é‡çš„å®šä¹‰

``` c++
#include <eigen3/Eigen/Core>
#include <iostream>

int main() {
    // å®šä¹‰ä¸€ä¸ªå›ºå®šå¤§å°çš„ 3x3 çŸ©é˜µ
    Eigen::Matrix3d mat; // ç›¸å½“äº Eigen::Matrix<double, 3, 3>
    mat << 1, 2, 3,
           4, 5, 6,
           7, 8, 9;

    // è¾“å‡ºçŸ©é˜µ
    std::cout << "Matrix:\n" << mat << std::endl;
    return 0;
}
```

#### 1.åŠ¨æ€å¤§å°çŸ©é˜µ

``` c++
#include <eigen3/Eigen/Core>
#include <iostream>

int main() {
    // åŠ¨æ€å¤§å°çŸ©é˜µ
    Eigen::MatrixXd mat(2, 3); // 2 è¡Œ 3 åˆ—
    mat << 1, 2, 3,
           4, 5, 6;

    std::cout << "Dynamic Matrix:\n" << mat << std::endl;
    return 0;
}
```

#### 2.å‘é‡å®šä¹‰

``` c++
#include <eigen3/Eigen/Core>
#include <iostream>

int main() {
    // é™æ€å¤§å°å‘é‡
    Eigen::Vector3d vec(1, 2, 3); // 3 ç»´å‘é‡

    // åŠ¨æ€å¤§å°å‘é‡
    Eigen::VectorXd dynamic_vec(4);
    dynamic_vec << 1, 2, 3, 4;

    std::cout << "Static Vector:\n" << vec << std::endl;
    std::cout << "Dynamic Vector:\n" << dynamic_vec << std::endl;
    return 0;
}
```

æƒ³è¯¦ç»†äº†è§£è¯·å‚è€ƒè¿™ä¸ªæ–‡æ¡£ï¼š

[Eigenåº“çš„å­¦ä¹ ](https://blog.csdn.net/m0_63111108/article/details/124949608)



## å…³äºç›¸æœºçš„ç•¸å˜ç³»æ•°çŸ©é˜µ

#å¯ä»¥ç”¨Matæˆ–è€…vector<double>è¡¨ç¤º.

ä½†æ˜¯åè€…æ›´åŠ çµæ´»ï¼Œå¦‚ä¸‹å¯¹æ¯”ï¼š

``` c++
cv::Mat distCoeffs = (cv::Mat_<double>(1, 5) << k1, k2, p1, p2, k3);
std::vector<double> distCoeffs = {k1, k2, p1, p2, k3};
```

äºŒè€…çš„ç›¸äº’è½¬æ¢ï¼š

``` c++
std::vector<double> distVec;
distCoeffs.copyTo(distVec); // distCoeffs æ˜¯ cv::Mat ç±»å‹
cv::Mat distCoeffs(distVec); // distVec æ˜¯ std::vector<double> ç±»å‹
```



## å…³äºç›¸æœºå¥æŸ„

#æŒ‡ä»£ä¸€ä¸ªç”¨äºè®¿é—®å’Œæ§åˆ¶ç›¸æœºç¡¬ä»¶çš„å¯¹è±¡ã€‚é€šè¿‡ç¼–ç¨‹æ¥å£ä¸ç›¸æœºè®¾å¤‡è¿›è¡Œäº¤äº’çš„æ–¹å¼ã€‚ï¼Œå®ƒå¯ä»¥ä»£è¡¨ä¸€ä¸ªæ‰“å¼€çš„ç›¸æœºè®¾å¤‡ï¼Œç¨‹åºå¯ä»¥é€šè¿‡è¯¥å¥æŸ„æ¥è·å–ç›¸æœºçš„æ•°æ®æµã€é…ç½®è®¾ç½®ã€è·å–å›¾åƒæˆ–è§†é¢‘å¸§ã€‚è¿™ä¸ªå¥æŸ„é€šå¸¸æ˜¯ä¸€ä¸ªæ•´æ•°å€¼æˆ–å¯¹è±¡ï¼Œç¨‹åºé€šè¿‡å®ƒè¿›è¡Œç›¸æœºçš„åˆå§‹åŒ–ã€è®¾ç½®ï¼ˆå¦‚åˆ†è¾¨ç‡ã€æ›å…‰æ—¶é—´ç­‰ï¼‰ï¼Œä»¥åŠæ•°æ®æ•æ‰ã€‚å¦‚opencvä¸­çš„VideoCaptureè¿”å›çš„å¯¹è±¡å¯ä»¥è§†ä¸ºç›¸æœºå¥æŸ„ã€‚

## å…³äºä¸€äº›ä¸æ‡‚å¾—è¯

### 1.echo

æ‰“å°æ–‡æœ¬æˆ–å˜é‡çš„å€¼ ;åœ¨ç¼–ç¨‹å’Œè„šæœ¬ä¸­ï¼Œ`echo` ä¹Ÿå¸¸ç”¨äºæ˜¾ç¤ºä¿¡æ¯æˆ–è°ƒè¯•ã€‚

### 2.shell

åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œ**Shell** æ˜¯ç”¨æˆ·ä¸æ“ä½œç³»ç»Ÿå†…æ ¸ä¹‹é—´çš„æ¥å£ï¼Œä¸»è¦ç”¨æ¥è§£é‡Šç”¨æˆ·çš„å‘½ä»¤ï¼Œå¹¶ä¸å†…æ ¸è¿›è¡Œäº¤äº’ã€‚å®ƒæ—¢æ˜¯ä¸€ç§å‘½ä»¤è§£é‡Šå™¨ï¼Œåˆæ˜¯ä¸€ä¸ªå¼ºå¤§çš„è„šæœ¬ç¼–ç¨‹è¯­è¨€ç¯å¢ƒã€‚

### 3.æ¬§æ‹‰è§’

1.ä¿¯ä»°è§’(pitch):ç»•ç‰©ä½“çš„æ¨ªå‘è½´ï¼ˆyè½´ï¼‰æ—‹è½¬çš„è§’åº¦ã€‚

2.åèˆªè§’(Yaw):ç»•ç‰©ä½“çš„å‚ç›´è½´(zè½´)æ—‹è½¬çš„è§’åº¦ã€‚

3.æ»šè½¬è§’(Roll):ç»•ç‰©ä½“çš„çºµå‘è½´(xè½´)æ—‹è½¬çš„è§’åº¦ã€‚

ç¼ºç‚¹ï¼š"ä¸‡å‘é”"å½“ä¿¯ä»°è§’æ¥è¿‘+-90åº¦æ—¶ï¼Œæ—‹è½¬è½´çš„è‡ªç”±åº¦å‡å°‘ï¼Œå¯¼è‡´æ¬§æ‹‰è§’æ— æ³•å”¯ä¸€æè¿°æ—‹è½¬.

### 4.å››å…ƒæ•°

#è¡¨ç¤ºä¸‰ç»´ç©ºé—´çš„æ—‹è½¬  å¯ä»¥é¿å…æ¬§æ‹‰è§’ä¸‡å‘èŠ‚æ­»é”çš„é—®é¢˜ åœ¨opencvä¸­å¸¸ç”¨äºæ—‹è½¬å’Œå§¿æ€è¡¨ç¤º 

### 5.static constexpr

#é™æ€å¸¸é‡è¡¨è¾¾å¼   `constexpr` å˜é‡åœ¨ç¨‹åºè¿è¡Œæ—¶ä¸ä¼šæ›´æ”¹ï¼Œä¸”ç¼–è¯‘å™¨ä¼šå°½é‡åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œæ±‚å€¼ã€‚

### 6.launchå’Œyaml ,py, xml

#launchæ˜¯ä¸€ä¸ªç”¨äºå¯åŠ¨å¤šä¸ªèŠ‚ç‚¹åŠå…¶ç›¸å…³èµ„æºçš„æœºåˆ¶ ,å®šä¹‰å¯åŠ¨èŠ‚ç‚¹ï¼Œè®¾ç½®å‚æ•°ï¼Œé…ç½®å‘å¸ƒ/è®¢é˜…å…³ç³»ç­‰

launché…ç½®åˆ†ä¸ºä¸‰ç§æ ¼å¼:xml,yamlå’Œ py

1. **Python æ ¼å¼ (`.py`)**ï¼šç›®å‰ ROS 2 æ¨èä½¿ç”¨ Python ç¼–å†™çš„ `launch` æ–‡ä»¶ã€‚Python æ ¼å¼çš„å¯åŠ¨æ–‡ä»¶å…·æœ‰æ›´å¼ºçš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚
2. **XML æ ¼å¼ (`.launch`)**ï¼šåœ¨ ROS 1 ä¸­å¸¸è§ï¼ŒROS 2 æ”¯æŒçš„æ ¼å¼è¾ƒå°‘ä½¿ç”¨ã€‚
3. **YAML (`.yaml`)**:YAMLï¼ˆYAML Ain't Markup Languageï¼‰æ˜¯ä¸€ç§äººç±»å¯è¯»çš„æ•°æ®åºåˆ—åŒ–æ ¼å¼ï¼Œç»å¸¸ç”¨äºé…ç½®æ–‡ä»¶ä¸­ã€‚åœ¨ ROS 2 ä¸­ï¼ŒYAML æ–‡ä»¶é€šå¸¸ç”¨äºå­˜å‚¨å’ŒåŠ è½½èŠ‚ç‚¹å‚æ•°ã€ä¼ æ„Ÿå™¨é…ç½®ç­‰ã€‚

### 7.UIå’ŒGUIå’ŒCLI

UIï¼šç”¨æˆ·ç•Œé¢ï¼Œç”¨æˆ·ä¸è®¾å¤‡ï¼Œåº”ç”¨ç¨‹åºæˆ–ç³»ç»Ÿä¹‹é—´çš„äº¤äº’ç•Œé¢

GUI:UIçš„ä¸€ä¸ªå­é›†ï¼Œç‰¹æŒ‡é€šè¿‡å›¾å½¢å’Œå›¾åƒæ¥ä¸è®¡ç®—æœºç³»ç»Ÿäº¤äº’çš„ç•Œé¢

CLI:å‘½ä»¤è¡Œç•Œé¢

### 8.inline

#å†…è”å‡½æ•°ï¼šè¯·æ±‚ç¼–è¯‘å™¨å°†å‡½æ•°çš„ä»£ç ç›´æ¥æ’å…¥åˆ°è°ƒç”¨ç‚¹ï¼Œé¿å…ä¼ ç»Ÿå‡½æ•°è°ƒç”¨çš„å¼€é”€(å¦‚ï¼šå‹æ ˆï¼Œè·³è½¬) ç”¨äºç®€å•ï¼Œé¢‘ç¹è°ƒç”¨çš„å°å‡½æ•°

### 9.[[nodiscard]]

#å‘Šè¯‰ç¼–è¯‘å™¨å‡½æ•°è¿”å›å€¼ä¸åº”è¯¥è¢«å¿½ç•¥ï¼Œå¦‚æœæ²¡æœ‰è¿”å›å€¼ï¼Œç¼–è¯‘å™¨ä¼šå‘å‡ºè­¦å‘Š

## å…³äºåŠ¨æ€åº“å’Œé™æ€åº“

### 1. **ç¼–è¯‘å’Œé“¾æ¥æ—¶æœº**

- é™æ€åº“
  - **ç¼–è¯‘æ—¶é“¾æ¥**ï¼šé™æ€åº“æ˜¯åœ¨ **ç¼–è¯‘æ—¶** é“¾æ¥åˆ°ç¨‹åºä¸­çš„ï¼Œåº“çš„ä»£ç ä¼šè¢«å¤åˆ¶åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚
  - **ä½¿ç”¨æ–¹å¼**ï¼šåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œç¨‹åºçš„é“¾æ¥å™¨ä¼šå°†é™æ€åº“çš„ä»£ç æ‹·è´åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œç”Ÿæˆç‹¬ç«‹çš„ã€å®Œæ•´çš„ç¨‹åºæ–‡ä»¶ã€‚
- åŠ¨æ€åº“
  - **è¿è¡Œæ—¶é“¾æ¥**ï¼šåŠ¨æ€åº“æ˜¯åœ¨ **è¿è¡Œæ—¶** è¢«åŠ è½½ï¼Œç¨‹åºåœ¨å¯åŠ¨æ—¶æˆ–è¿è¡Œæ—¶é€šè¿‡æ“ä½œç³»ç»ŸåŠ¨æ€åœ°åŠ è½½æ‰€éœ€çš„åº“æ–‡ä»¶ã€‚
  - **ä½¿ç”¨æ–¹å¼**ï¼šç¨‹åºå¹¶ä¸åŒ…å«åŠ¨æ€åº“çš„ä»£ç ï¼Œè€Œæ˜¯åŒ…å«äº†é“¾æ¥åˆ°åŠ¨æ€åº“çš„è·¯å¾„å’Œç¬¦å·ã€‚ç¨‹åºè¿è¡Œæ—¶ï¼Œæ“ä½œç³»ç»Ÿè´Ÿè´£åŠ è½½åŠ¨æ€åº“å¹¶å°†å…¶é“¾æ¥åˆ°ç¨‹åºã€‚

### 2. **æ–‡ä»¶ç±»å‹**

- **é™æ€åº“**ï¼šé€šå¸¸æ˜¯ `.a`ï¼ˆåœ¨ Linux å’Œ macOS ä¸­ï¼‰æˆ– `.lib`ï¼ˆåœ¨ Windows ä¸­ï¼‰çš„æ–‡ä»¶ã€‚
- **åŠ¨æ€åº“**ï¼šé€šå¸¸æ˜¯ `.so`ï¼ˆåœ¨ Linux ä¸­ï¼‰ï¼Œ`.dll`ï¼ˆåœ¨ Windows ä¸­ï¼‰ï¼Œæˆ– `.dylib`ï¼ˆåœ¨ macOS ä¸­ï¼‰çš„æ–‡ä»¶ã€‚

### 3. **æ–‡ä»¶å¤§å°**

- é™æ€åº“
  - ç”±äºåº“çš„ä»£ç è¢«åµŒå…¥åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶é€šå¸¸æ¯”è¾ƒå¤§ã€‚
- åŠ¨æ€åº“
  - å¯æ‰§è¡Œæ–‡ä»¶é€šå¸¸è¾ƒå°ï¼Œå› ä¸ºå®ƒåªåŒ…å«åŠ¨æ€åº“çš„ç¬¦å·ä¿¡æ¯ï¼Œå¹¶ä¸ä¼šåŒ…å«åº“çš„å®é™…ä»£ç ã€‚
  - åŠ¨æ€åº“æ–‡ä»¶æœ¬èº«è¾ƒå°ï¼Œå¤šä¸ªç¨‹åºå¯ä»¥å…±äº«åŒä¸€ä¸ªåŠ¨æ€åº“ï¼Œé¿å…äº†é‡å¤å­˜å‚¨åº“çš„ä»£ç ã€‚

### 4. **è¿è¡Œæ—¶ä¾èµ–æ€§**

- é™æ€åº“

  - ç¨‹åº **ä¸ä¾èµ–äºå¤–éƒ¨åº“æ–‡ä»¶**ï¼Œå› ä¸ºåº“çš„ä»£ç å·²ç»åœ¨ç¼–è¯‘æ—¶è¢«åµŒå…¥åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚è¿è¡Œæ—¶ä¸éœ€è¦é¢å¤–çš„åº“æ–‡ä»¶ã€‚
  - å¦‚æœé™æ€åº“çš„ä»£ç å‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦ **é‡æ–°ç¼–è¯‘** ä¾èµ–è¯¥åº“çš„ç¨‹åºã€‚
  
- åŠ¨æ€åº“

  - ç¨‹åº **ä¾èµ–äºå¤–éƒ¨åº“æ–‡ä»¶**ï¼Œåœ¨è¿è¡Œæ—¶éœ€è¦åŠ è½½ç›¸åº”çš„åŠ¨æ€åº“ã€‚å¦‚æœåŠ¨æ€åº“ç¼ºå¤±æˆ–ç‰ˆæœ¬ä¸åŒ¹é…ï¼Œç¨‹åºå¯èƒ½æ— æ³•å¯åŠ¨æˆ–æ‰§è¡Œã€‚
- åŠ¨æ€åº“çš„æ›´æ–°ä¸éœ€è¦é‡æ–°ç¼–è¯‘ä¾èµ–çš„ç¨‹åºï¼Œåªéœ€æ›¿æ¢åº“æ–‡ä»¶å³å¯ï¼Œå‰ææ˜¯æ–°åº“ä¸æ—§åº“å…¼å®¹ã€‚

### 5. **å†…å­˜ä½¿ç”¨**

- é™æ€åº“

  - æ¯ä¸ªç¨‹åºéƒ½ä¼š **ç‹¬ç«‹åŠ è½½** é™æ€åº“çš„ä»£ç ã€‚å³ä½¿å¤šä¸ªç¨‹åºä½¿ç”¨ç›¸åŒçš„é™æ€åº“ï¼Œå®ƒä»¬ä¹Ÿä¼šå„è‡ªæ‹¥æœ‰ä¸€ä»½åº“çš„å‰¯æœ¬ï¼Œå ç”¨é¢å¤–çš„å†…å­˜ã€‚

- åŠ¨æ€åº“

  - åŠ¨æ€åº“ **åªåŠ è½½ä¸€æ¬¡**ï¼Œå¤šä¸ªç¨‹åºå¯ä»¥å…±äº«åŒä¸€ä»½åŠ¨æ€åº“ä»£ç ã€‚è¿™æ ·å¯ä»¥èŠ‚çœå†…å­˜èµ„æºï¼Œå°¤å…¶æ˜¯å½“å¤šä¸ªç¨‹åºéœ€è¦ä½¿ç”¨ç›¸åŒçš„åº“æ—¶ã€‚

### 6. **æ›´æ–°å’Œç»´æŠ¤**

- é™æ€åº“

  - é™æ€åº“æ›´æ–°æ—¶ï¼Œå¿…é¡» **é‡æ–°ç¼–è¯‘** ä¾èµ–è¯¥åº“çš„æ‰€æœ‰ç¨‹åºã€‚å› ä¸ºé™æ€åº“çš„ä»£ç å·²ç»ç¼–è¯‘è¿›ç¨‹åºï¼Œç¨‹åºå’Œåº“æ˜¯ç´§å¯†ç»‘å®šçš„ã€‚

- åŠ¨æ€åº“

  - åŠ¨æ€åº“æ›´æ–°æ—¶ï¼Œåªéœ€è¦ **æ›¿æ¢åº“æ–‡ä»¶**ï¼Œè€Œæ— éœ€é‡æ–°ç¼–è¯‘ä¾èµ–è¯¥åº“çš„ç¨‹åºã€‚åªè¦æ¥å£ï¼ˆå‡½æ•°ã€ç±»ç­‰ï¼‰ä¿æŒä¸€è‡´ï¼Œç¨‹åºå¯ä»¥ç›´æ¥ä½¿ç”¨æ–°çš„åŠ¨æ€åº“ã€‚

### 7. **æ€§èƒ½**

- é™æ€åº“

  - ç”±äºé™æ€åº“çš„ä»£ç å·²ç»è¢«åµŒå…¥åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œå› æ­¤ç¨‹åºå¯åŠ¨å’Œè¿è¡Œæ—¶ **ä¸éœ€è¦è¿›è¡Œé¢å¤–çš„åº“åŠ è½½**ã€‚å› æ­¤ï¼Œé™æ€åº“é€šå¸¸æä¾› **è¾ƒå¿«çš„å¯åŠ¨æ€§èƒ½**ã€‚

- åŠ¨æ€åº“

  - åŠ¨æ€åº“åœ¨ç¨‹åºå¯åŠ¨æ—¶éœ€è¦ **åŠ è½½å’Œé“¾æ¥**ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå¯åŠ¨çš„æ—¶é—´ç¨å¾®å˜é•¿ã€‚
- ç„¶è€Œï¼ŒåŠ¨æ€åº“èƒ½å¤Ÿè¢«å¤šä¸ªç¨‹åºå…±äº«ï¼Œè¿™å¯¹äºé•¿æ—¶é—´è¿è¡Œçš„ç¨‹åºè€Œè¨€ï¼Œå†…å­˜çš„èŠ‚çœå’Œçµæ´»æ€§éå¸¸é‡è¦ã€‚

### 8. **ä¾èµ–ç®¡ç†**

- é™æ€åº“

  - é™æ€åº“çš„ä¾èµ–é€šå¸¸åœ¨ç¼–è¯‘æ—¶å°±å·²ç»æ˜ç¡®ï¼Œæ— éœ€åœ¨ç¨‹åºè¿è¡Œæ—¶å»æŸ¥æ‰¾å’Œé“¾æ¥ã€‚
  - ç¨‹åºä¸å®¹æ˜“å‡ºç°ç”±äºåº“ç‰ˆæœ¬ä¸åŒ¹é…å¼•èµ·çš„è¿è¡Œæ—¶é”™è¯¯ã€‚
  
- åŠ¨æ€åº“

  - ç¨‹åºå¯¹åŠ¨æ€åº“çš„ä¾èµ–æ¯”è¾ƒé«˜ã€‚éœ€è¦ä¿è¯åœ¨è¿è¡Œæ—¶èƒ½å¤Ÿæ‰¾åˆ°åŠ¨æ€åº“ï¼Œä¸”ç¡®ä¿åº“çš„ç‰ˆæœ¬ä¸ç¨‹åºå…¼å®¹ã€‚
- å¯èƒ½å‡ºç° **"ä¾èµ–åœ°ç‹±"** é—®é¢˜ï¼Œå³ä¸åŒç‰ˆæœ¬çš„åº“å¯èƒ½ä¼šå¼•å‘å…¼å®¹æ€§é—®é¢˜ï¼Œæˆ–è€…æŸäº›åº“ç¼ºå¤±å¯¼è‡´ç¨‹åºæ— æ³•è¿è¡Œã€‚

### 9. **å…±äº«ä¸å¤ç”¨**

- **é™æ€åº“**ï¼š
  - é™æ€åº“æ˜¯ **ä¸å¯å…±äº«çš„**ï¼Œæ¯ä¸ªç¨‹åºéƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„é™æ€åº“å‰¯æœ¬ã€‚
  - é™æ€åº“æ›´é€‚åˆä¸å¸Œæœ›å¤–éƒ¨å…±äº«çš„åœºæ™¯ï¼Œæˆ–è€…ä¸å¸Œæœ›åœ¨è¿è¡Œæ—¶ä¾èµ–å¤–éƒ¨æ–‡ä»¶çš„åœºæ™¯ã€‚
- **åŠ¨æ€åº“**ï¼š
  - åŠ¨æ€åº“å¯ä»¥è¢« **å¤šä¸ªç¨‹åºå…±äº«**ã€‚æ“ä½œç³»ç»Ÿå°†ä¼šå°†åŠ¨æ€åº“åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å…è®¸å¤šä¸ªç¨‹åºä½¿ç”¨å®ƒï¼Œä»è€Œå‡å°‘å†…å­˜ä½¿ç”¨ã€‚
  - åŠ¨æ€åº“é€‚åˆå¼€å‘å¤§å‹åº”ç”¨ç¨‹åºå’Œç³»ç»Ÿï¼Œå…¶ä¸­å¤šä¸ªç¨‹åºéœ€è¦å…±äº«åŒä¸€åº“çš„ä»£ç ã€‚

### 10. **å…¼å®¹æ€§**

- é™æ€åº“

  - é™æ€åº“é“¾æ¥çš„è¿‡ç¨‹ä¸­ï¼Œåº“çš„æ‰€æœ‰ç¬¦å·éƒ½è¢«å¤åˆ¶åˆ°ç¨‹åºä¸­ï¼Œè¿è¡Œæ—¶æ²¡æœ‰ç‰ˆæœ¬ä¾èµ–é—®é¢˜ï¼Œä½†éœ€è¦æ›´æ–°æ—¶é‡æ–°ç¼–è¯‘ã€‚
- åŠ¨æ€åº“

  - åŠ¨æ€åº“çš„å…¼å®¹æ€§è¦æ±‚è¾ƒé«˜ï¼Œåº“çš„æ¥å£ï¼ˆå‡½æ•°ç­¾åç­‰ï¼‰å¿…é¡»ä¿æŒä¸å˜ã€‚å¦‚æœåº“çš„æ¥å£å‘ç”Ÿå˜åŒ–ï¼Œä¾èµ–è¯¥åº“çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºæ‰¾ä¸åˆ°æŸäº›ç¬¦å·è€Œå´©æºƒã€‚

## å…³äºQT

é€‰æ‹©ä¸€ä¸ªæ¨¡ç‰ˆï¼š

Application(QT):è¿™ä¸ªæ¨¡æ¿ç”¨äºåˆ›å»ºä¸€ä¸ªåŸºäº Qt æ¡†æ¶çš„åº”ç”¨ç¨‹åºã€‚å®ƒæ˜¯ C++ ç¼–å†™çš„ Qt åº”ç”¨ç¨‹åº.

Application(QT for Python):é€‚ç”¨äº Python çš„ QT

Library:è¯¥æ¨¡æ¿ç”¨äºåˆ›å»ºä¸€ä¸ªåº“é¡¹ç›®ï¼Œé€šå¸¸æ˜¯é™æ€åº“ï¼ˆ.aï¼‰æˆ–åŠ¨æ€åº“ï¼ˆ.so æˆ– .dllï¼‰ã€‚ä½ å¯ä»¥å°†å…¶ç”¨ä½œå…¶ä»– Qt é¡¹ç›®çš„ä¾èµ–ã€‚

å…¶ä»–é¡¹ç›®:è¿™ä¸ªé€‰é¡¹ä¸ºä¸€äº›ç‰¹æ®Šé¡¹ç›®ç±»å‹æä¾›æ¨¡æ¿ï¼Œå¦‚åˆ›å»º QML æ–‡ä»¶ã€æµ‹è¯•å·¥å…·ã€UI ç»„ä»¶ç­‰ã€‚

Non-Qt Project:è¿™ä¸ªæ¨¡æ¿å…è®¸ä½ åˆ›å»ºä¸ä¾èµ– Qt æ¡†æ¶çš„é¡¹ç›®ã€‚å®ƒé€‚ç”¨äºä½ ä¸æƒ³ä½¿ç”¨ Qt åº“çš„ C++ é¡¹ç›®ã€‚

Import Project:æ­¤é€‰é¡¹ç”¨äºå°†ç°æœ‰çš„å¤–éƒ¨é¡¹ç›®å¯¼å…¥åˆ° Qt Creator ä¸­ã€‚é€šå¸¸ç”¨äºå¯¼å…¥ç°æœ‰çš„ CMake æˆ– qmake é¡¹ç›®ã€‚

Files and CLasses:è¿™ä¸ªé€‰é¡¹å…è®¸ä½ åªåˆ›å»ºæ–°çš„æ–‡ä»¶æˆ–ç±»ï¼Œè€Œä¸åˆ›å»ºå®Œæ•´çš„é¡¹ç›®ã€‚é€šå¸¸ç”¨äºæ·»åŠ æ–°çš„æºæ–‡ä»¶ã€å¤´æ–‡ä»¶ã€UI æ–‡ä»¶ã€ç±»æˆ–å…¶ä»–æ¨¡å—ã€‚

---

Qt WIdgets Application:è¿™æ˜¯ä¸€ä¸ªåŸºäº Qt Widgets åº“çš„æ¡Œé¢åº”ç”¨ç¨‹åºæ¨¡æ¿ï¼Œé€‚ç”¨äºä¼ ç»Ÿçš„å›¾å½¢ç”¨æˆ·ç•Œé¢ (GUI) åº”ç”¨ã€‚å®ƒä¸ºä½ åˆ›å»ºäº†ä¸€ä¸ªå¸¦æœ‰ Qt Widgets çš„åº”ç”¨ç¨‹åºç»“æ„ï¼Œé€šå¸¸ä½¿ç”¨ `.ui` æ–‡ä»¶æ¥è®¾è®¡ç•Œé¢ã€‚

Qt Console Application:è¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰å›¾å½¢ç•Œé¢çš„åº”ç”¨ç¨‹åºæ¨¡æ¿ï¼Œé€‚ç”¨äºå¼€å‘å‘½ä»¤è¡Œå·¥å…·æˆ–åå°æœåŠ¡ç­‰ã€‚

Qt Quick Application:è¿™æ˜¯ä¸€ä¸ªåŸºäº Qt Quick å’Œ QML çš„åº”ç”¨ç¨‹åºæ¨¡æ¿ï¼Œé€‚ç”¨äºç°ä»£çš„ UI å¼€å‘ï¼Œå°¤å…¶æ˜¯ç”¨äºç§»åŠ¨è®¾å¤‡å’ŒåµŒå…¥å¼å¹³å°ã€‚è¿™ä¸ªæ¨¡æ¿ç”Ÿæˆçš„åº”ç”¨ç¨‹åºä½¿ç”¨ QML æ¥å®šä¹‰ç•Œé¢ï¼Œé€‚åˆå¼€å‘å…·æœ‰åŠ¨æ€å’Œæµç•…ç•Œé¢çš„åº”ç”¨ã€‚

---

==**qmake**==: `qmake` æ˜¯ Qt å®˜æ–¹æä¾›çš„æ„å»ºå·¥å…·ï¼Œå®ƒä¸“é—¨ä¸º Qt é¡¹ç›®è®¾è®¡ï¼Œå¸®åŠ©ç”¨æˆ·ç”Ÿæˆ Makefile æ–‡ä»¶ï¼Œä»è€Œå®Œæˆç¼–è¯‘å’Œæ„å»ºè¿‡ç¨‹ã€‚

**ç‰¹ç‚¹:**

**Qt ä¸“ç”¨**ï¼šqmake æ˜¯ä¸º Qt å¼€å‘è®¾è®¡çš„ï¼Œç‰¹åˆ«é€‚åˆæ„å»ºåŸºäº Qt çš„åº”ç”¨ã€‚

**ç®€åŒ–é…ç½®**ï¼šé€šè¿‡ `.pro` æ–‡ä»¶é…ç½®é¡¹ç›®ï¼Œ`.pro` æ–‡ä»¶é€šå¸¸åŒ…å«æºæ–‡ä»¶ã€å¤´æ–‡ä»¶ã€èµ„æºæ–‡ä»¶ç­‰ä¿¡æ¯ã€‚qmake ä¼šæ ¹æ®è¿™äº›æ–‡ä»¶ç”Ÿæˆ Makefileã€‚

**è‡ªåŠ¨ç”Ÿæˆæ„å»ºé…ç½®**ï¼šqmake å¤„ç†å¤§å¤šæ•° Qt é¡¹ç›®çš„æ„å»ºé…ç½®ï¼Œç”¨æˆ·åªéœ€è¦æŒ‡å®šé¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯ï¼Œå®ƒä¼šè‡ªåŠ¨å¤„ç† Qt åº“çš„è·¯å¾„å’Œç¼–è¯‘å™¨è®¾ç½®ã€‚

**è·¨å¹³å°**ï¼šqmake æ”¯æŒè·¨å¹³å°æ„å»ºï¼Œä½†å®ƒçš„è·¨å¹³å°èƒ½åŠ›ä¸å¦‚ CMake çµæ´»ï¼Œç‰¹åˆ«æ˜¯åœ¨é Qt ç¯å¢ƒä¸‹ã€‚

==**cmake:**== æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„å¼€æºæ„å»ºå·¥å…·ï¼Œå®ƒä¸ä»…å¯ä»¥ç”¨äº Qt é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥ç”¨äºå…¶ä»–å„ç§ç±»å‹çš„ C++ é¡¹ç›®ã€‚å®ƒç”Ÿæˆçš„æ„å»ºæ–‡ä»¶æ”¯æŒä¸åŒçš„å¹³å°å’Œå·¥å…·é“¾ï¼Œæ¯”å¦‚ Makefileã€Visual Studio é¡¹ç›®æ–‡ä»¶ç­‰ã€‚

**ç‰¹ç‚¹:**

- **æ›´å¼ºçš„è·¨å¹³å°æ”¯æŒ**ï¼šCMake å…·å¤‡æ›´å¼ºçš„è·¨å¹³å°æ”¯æŒï¼Œèƒ½å¤„ç†å¤šç§ç¼–è¯‘å™¨å’Œå¹³å°ï¼ˆWindowsã€Linuxã€macOSç­‰ï¼‰ã€‚å®ƒç”Ÿæˆçš„æ„å»ºç³»ç»Ÿï¼ˆMakefileã€Ninjaã€Visual Studioç­‰ï¼‰å¯ä»¥æ ¹æ®ç›®æ ‡å¹³å°è‡ªåŠ¨é€‚åº”ã€‚
- **çµæ´»æ€§**ï¼šCMake æä¾›äº†æ›´å¤šçš„çµæ´»æ€§ï¼Œé€‚åˆå¤§å‹é¡¹ç›®å’Œå¤šè¯­è¨€é¡¹ç›®ã€‚å®ƒæ”¯æŒå¤æ‚çš„ä¾èµ–ç®¡ç†ã€å¤–éƒ¨åº“é›†æˆã€æ„å»ºé€‰é¡¹ç­‰ã€‚
- **Qt æ”¯æŒ**ï¼šCMake è‡ª 3.0 ç‰ˆæœ¬èµ·å†…ç½®äº†å¯¹ Qt é¡¹ç›®çš„æ”¯æŒï¼Œå¯ä»¥ç›´æ¥å¤„ç† Qt çš„æ¨¡å—ã€èµ„æºæ–‡ä»¶ã€UI æ–‡ä»¶ç­‰ã€‚
- **ä¸å¤šç§æ„å»ºç³»ç»Ÿå…¼å®¹**ï¼šCMake å¯ä»¥ç”Ÿæˆé€‚ç”¨äºå„ç§å¹³å°å’Œæ„å»ºå·¥å…·çš„æ„å»ºæ–‡ä»¶ã€‚

==**Qbs:**==`Qbs`ï¼ˆQt Build Suiteï¼‰æ˜¯ Qt å¼€å‘å›¢é˜Ÿæ¨å‡ºçš„ä¸€ç§æ„å»ºç³»ç»Ÿï¼Œæ—¨åœ¨ç®€åŒ–è·¨å¹³å°æ„å»ºè¿‡ç¨‹ã€‚å®ƒæ˜¯ä¸€ä¸ªå£°æ˜æ€§æ„å»ºå·¥å…·ï¼Œç‰¹åˆ«é€‚ç”¨äºå¤æ‚çš„ Qt é¡¹ç›®ã€‚

## å…³äºå¡å°”æ›¼æ»¤æ³¢

**(KF)æ ‡å‡†å¡å°”æ›¼æ»¤æ³¢:**é€‚ç”¨äºçº¿æ€§ç³»ç»Ÿï¼Œå‡è®¾ç³»ç»ŸçŠ¶æ€å’Œæµ‹é‡æ¨¡å‹éƒ½æ˜¯çº¿æ€§å…³ç³»ï¼Œä¸”å™ªå£°ä¸ºé«˜æ–¯åˆ†å¸ƒã€‚é€šè¿‡çŸ©é˜µè¿ç®—å®ç°é€’å½’æ›´æ–°ã€‚

**(EKF)æ‰©å±•å¡å°”æ›¼æ»¤æ³¢:**é€‚ç”¨äºå¼±éçº¿æ€§ç³»ç»Ÿã€‚å¯¹éçº¿æ€§ç³»ç»Ÿè¿›è¡Œä¸€é˜¶æ³°å‹’å±•å¼€ï¼ˆçº¿æ€§åŒ–ï¼‰ï¼Œè¿‘ä¼¼å¤„ç†éçº¿æ€§éƒ¨åˆ†ï¼Œé¢„æµ‹å’Œæ›´æ–°é˜¶æ®µåŸºäºçº¿æ€§åŒ–çš„é›…å¯æ¯”çŸ©é˜µè®¡ç®—ã€‚

**(UKF)æ— è¿¹å¡å°”æ›¼æ»¤æ³¢:**é€‚ç”¨äº**å¼ºéçº¿æ€§ç³»ç»Ÿ**ã€‚é€šè¿‡å¼•å…¥æ— è¿¹å˜æ¢ï¼ˆUnscented Transformï¼‰ï¼Œå¯¹çŠ¶æ€åˆ†å¸ƒè¿›è¡Œé‡‡æ ·å¹¶ä¼ æ’­ï¼Œç›´æ¥å¤„ç†éçº¿æ€§ï¼Œè€Œæ— éœ€çº¿æ€§åŒ–ã€‚å¯¹éçº¿æ€§é—®é¢˜çš„è¿‘ä¼¼æ¯”EKFæ›´ç²¾ç¡®ã€‚

---

â€‹						measure				    

â€‹						    |(H)

 						   V

state->predict->pre_state->update->state(å†æŠŠstateä¼ å›å»)

å¡å°”æ›¼æ»¤æ³¢çš„æœ¬è´¨æ˜¯ï¼šæ•°æ®èåˆ

---

æ‰©å±•å¡å°”æ›¼æ»¤æ³¢å™¨æ¨¡ç‰ˆç±»ï¼ˆEkfï¼‰:

``` c++
#include <eigen3/Eigen/Core>
#include <iostream>


// å¡å°”æ›¼ State_NUMï¼šçŠ¶æ€é‡çš„æ•°é‡ Measure_NUM:è§‚æµ‹é‡çš„æ•°é‡ è§„å®šå‡ *å‡  
template<int State_NUM, int Measure_NUM>
class Ekf {
public:
    //çŠ¶æ€è½¬ç§»çŸ©é˜µ
    typedef Eigen::Matrix<double, State_NUM, State_NUM> F;
    //æµ‹é‡çŸ©é˜µ
    typedef Eigen::Matrix<double, Measure_NUM, State_NUM> H;
    //çŠ¶æ€çš„é›…å¯æ¯”çŸ©é˜µ
    typedef Eigen::Matrix<double, State_NUM, State_NUM> FJacobi;
    //æµ‹é‡çš„é›…å¯æ¯”çŸ©é˜µ
    typedef Eigen::Matrix<double, Measure_NUM, State_NUM> HJacobi;
    //è¿‡ç¨‹å™ªå£°åæ–¹å·®çŸ©é˜µ
    typedef Eigen::Matrix<double, State_NUM, State_NUM> Q;
    //æµ‹é‡å™ªå£°åæ–¹å·®çŸ©é˜µ
    typedef Eigen::Matrix<double, Measure_NUM, Measure_NUM> R;
    //çŠ¶æ€åæ–¹å·®çŸ©é˜µ
    typedef Eigen::Matrix<double, State_NUM, State_NUM> P;
    //çŠ¶æ€å‘é‡
    typedef Eigen::Matrix<double, 1, State_NUM> State;
    //æµ‹é‡å‘é‡
    typedef Eigen::Matrix<double, 1, Measure_NUM> Measurement;
	//æ„é€ å‡½æ•° åˆå§‹åŒ–Ekfå¯¹è±¡
    Ekf(F f, H h, FJacobi f_j, HJacobi h_j, Q q, R r, P p):
        m_f(f),
        m_h(h),
        m_f_jacobi(f_j),
        m_h_jacobi(h_j),
        m_q(q),
        m_r(r),
        m_p(p){
            std::cout << "init successfully" << std::endl;
    }
    //è®¾ç½®æ»¤æ³¢çš„åˆå§‹çŠ¶æ€å‘é‡
    void initState(State init_state) {
        m_state = init_state;
    }
//å¡å°”æ›¼æ»¤æ³¢çš„äº”ä¸ªé‡è¦å…¬å¼
    void predict() {
        // 1.é¢„æµ‹ä¸‹ä¸€ä¸ªçŠ¶æ€
        m_pre_state = m_f * m_state;

        // 2.é¢„æµ‹çŠ¶æ€åæ–¹å·®çŸ©é˜µ
        m_pre_p = m_f * m_p * m_f.transpose() + m_q;
    }
//æ›´æ–°æ­¥éª¤
    void update(Measurement measurement) {
        // 3.è®¡ç®—å¡å°”æ›¼å¢ç›Š
        m_k =  m_pre_p * m_h.transpose() * ((m_h * m_pre_p * m_h.transpose() + m_r).inverse());
        //4.æ›´æ–°çŠ¶æ€
        m_state = m_pre_state + m_k * (measurement - h(m_pre_p));
        // 5.æ›´æ–°åæ–¹å·®
        Eigen::MatrixXd I = Eigen::MatrixXd::Identity(m_p.rows(), m_p.cols());
        m_p = (I - m_k * m_h) * m_pre_p;
    }
//æä¾›è®¿é—®å½“å‰çŠ¶æ€å‘é‡å’Œåæ–¹å·®çŸ©é˜µçš„æ¥å£
    State getState() {return m_state;}
    P getP() {return m_p;}
    //è™šææ„å‡½æ•°
    virtual ~Ekf();
private:
    F m_f;
    H m_h;
    FJacobi m_f_jacobi;
    HJacobi m_h_jacobi;
    Q m_q;
    R m_r;
    P m_p;
    P m_pre_p;
    State m_state;
    State m_pre_state;
    //åŠ¨æ€å¤§å°çŸ©é˜µç±»å‹ å­˜å‚¨å¡å°”æ›¼å¢ç›ŠçŸ©é˜µ
    Eigen::MatrixXd m_k;
    Measurement m_measurement;
};
```

## å…³äºè™šå‡½æ•°

==ç‰¹æ€§:==

1. **è¿è¡Œæ—¶åŠ¨æ€ç»‘å®š**
   - æ™®é€šæˆå‘˜å‡½æ•°åœ¨ç¼–è¯‘æ—¶ç»‘å®šï¼ˆé™æ€ç»‘å®šï¼‰ï¼Œè°ƒç”¨çš„æ˜¯æŒ‡é’ˆæˆ–å¼•ç”¨çš„é™æ€ç±»å‹çš„æˆå‘˜å‡½æ•°ã€‚
   - è™šå‡½æ•°åœ¨è¿è¡Œæ—¶ç»‘å®šï¼ˆåŠ¨æ€ç»‘å®šï¼‰ï¼Œè°ƒç”¨çš„æ˜¯å¯¹è±¡çš„å®é™…ç±»å‹ï¼ˆåŠ¨æ€ç±»å‹ï¼‰çš„æˆå‘˜å‡½æ•°ã€‚
2. **è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰æœºåˆ¶**
   - æ¯ä¸ªå«æœ‰è™šå‡½æ•°çš„ç±»ä¼šç”Ÿæˆä¸€ä¸ª **è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰**ï¼Œå­˜å‚¨è¯¥ç±»æ‰€æœ‰è™šå‡½æ•°çš„åœ°å€ã€‚
   - æ¯ä¸ªå¯¹è±¡å†…éƒ¨å«æœ‰ä¸€ä¸ªæŒ‡å‘è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆï¼ˆvptrï¼‰ï¼Œç”¨äºè°ƒç”¨åŠ¨æ€ç±»å‹å¯¹åº”çš„è™šå‡½æ•°ã€‚
3. **æ”¯æŒç»§æ‰¿å’Œå¤šæ€**
   - å½“åŸºç±»å®šä¹‰è™šå‡½æ•°ï¼Œæ´¾ç”Ÿç±»å¯ä»¥é‡å†™å®ƒã€‚
   - ä½¿ç”¨åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨æ“ä½œæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œè°ƒç”¨çš„å‡½æ•°ç”±å¯¹è±¡çš„å®é™…ç±»å‹å†³å®šã€‚
4. **è™šå‡½æ•°çš„å¼€é”€**
   - è™šå‡½æ•°å¼•å…¥äº†ä¸€å®šçš„è¿è¡Œæ—¶å¼€é”€ï¼ŒåŒ…æ‹¬é¢å¤–çš„å†…å­˜å­˜å‚¨ï¼ˆvtable å’Œ vptrï¼‰å’ŒåŠ¨æ€å‡½æ•°è°ƒç”¨çš„æ—¶é—´ã€‚

**==å°†ææ„å‡½æ•°å†™æˆè™šå‡½æ•°==**:

å°†ææ„å‡½æ•°å®šä¹‰ä¸º**è™šå‡½æ•°**çš„ç›®çš„æ˜¯ä¸ºäº†æ”¯æŒ **å¤šæ€è¡Œä¸º**ï¼Œç¡®ä¿å½“ç±»è¢«ç»§æ‰¿æ—¶ï¼Œåˆ é™¤æ´¾ç”Ÿç±»å¯¹è±¡æ—¶èƒ½å¤Ÿæ­£ç¡®è°ƒç”¨æ´¾ç”Ÿç±»å’ŒåŸºç±»çš„ææ„å‡½æ•°ï¼Œé¿å…èµ„æºæ³„æ¼ã€‚

å¦‚æœåŸºç±»çš„ææ„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œå½“ä½¿ç”¨åŸºç±»æŒ‡é’ˆåˆ é™¤æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œåªä¼šè°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œæ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ä¸ä¼šè¢«è°ƒç”¨ã€‚è¿™ä¼šå¯¼è‡´æ´¾ç”Ÿç±»ä¸­åˆ†é…çš„èµ„æºæœªè¢«æ­£ç¡®é‡Šæ”¾ã€‚

**==æ„é€ å‡½æ•°ä¸èƒ½å†™æˆè™šå‡½æ•°:==**

è™šå‡½æ•°ä¾èµ–äºè™šå‡½æ•°è¡¨ï¼Œè€Œè™šå‡½æ•°è¡¨çš„æŒ‡é’ˆåªæœ‰åœ¨å¯¹è±¡çš„æ„é€ è¿‡ç¨‹ä¸­æ‰ä¼šè¢«è®¾ç½®ã€‚

å¦‚æœæ„é€ å‡½æ•°æ˜¯è™šå‡½æ•°ï¼Œå°±ä¼šæ¶‰åŠä¸€ä¸ªçŸ›ç›¾â€”â€”æ„é€ å‡½æ•°éœ€è¦ä¾èµ– vtable çš„åˆå§‹åŒ–ï¼Œè€Œ vtable çš„åˆå§‹åŒ–åˆä¾èµ–äºæ„é€ å‡½æ•°çš„æ‰§è¡Œã€‚

**==å…ˆéªŒåéªŒ:==**

***å…ˆéªŒ***:æ˜¯åŸºäºä¸Šä¸€æ—¶åˆ»çš„çŠ¶æ€ä¼°è®¡å’Œç³»ç»Ÿçš„é¢„æµ‹æ¨¡å‹ï¼Œå¯¹å½“å‰çŠ¶æ€çš„é¢„æµ‹ä¼°è®¡ã€‚

***åéªŒä¼°è®¡:***æ˜¯åœ¨ç»“åˆæµ‹é‡å€¼åï¼Œå¯¹ç³»ç»ŸçŠ¶æ€çš„ä¿®æ­£ã€‚

**==å¤šæ€æ€§:==**æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªæ ¸å¿ƒç‰¹æ€§,å®ƒå…è®¸ä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œä»¥ç»Ÿä¸€çš„æ¥å£æ“ä½œï¼Œä»è€Œå®ç°ä»£ç çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§.

***ç¼–è¯‘æ—¶å¤šæ€***ï¼šé€šè¿‡å‡½æ•°é‡è½½å’Œè¿ç®—ç¬¦é‡è½½å®ç°ï¼Œå‡½æ•°çš„è°ƒç”¨åœ¨ç¼–è¯‘æ—¶å†³å®šã€‚

***è¿è¡Œæ—¶å¤šæ€***:é€šè¿‡ç»§æ‰¿å’Œè™šå‡½æ•°å®ç°ï¼Œå‡½æ•°çš„è°ƒç”¨åœ¨è¿è¡Œæ—¶å†³å®šï¼Œè¿è¡Œæ—¶å¤šæ€ä¾èµ– **åŠ¨æ€ç»‘å®š**ï¼Œå³æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹è°ƒç”¨å¯¹åº”çš„æ–¹æ³•ã€‚

## å¼ºæšä¸¾å’Œä¼ ç»Ÿæšä¸¾

#==å¼ºæšä¸¾ï¼š==enum class 

ç‰¹å¾ï¼š

**ä½œç”¨åŸŸæ§åˆ¶ï¼š**å¼ºæšä¸¾çš„æˆå‘˜ä¸ä¼šè‡ªåŠ¨æš´éœ²åˆ°å¤–éƒ¨ä½œç”¨åŸŸï¼Œå¿…é¡»é€šè¿‡æšä¸¾åè¿›è¡Œé™å®šã€‚

**ç±»å‹å®‰å…¨ï¼š**æšä¸¾å€¼ä¸èƒ½éšå¼è½¬æ¢ä¸ºæ•´æ•°ç±»å‹ï¼Œå¿…é¡»æ˜¾ç¤ºè½¬æ¢ã€‚

**åº•å±‚ç±»å‹å¯æŒ‡å®šï¼š**å¯ä»¥æ˜ç¡®æŒ‡å®šæšä¸¾çš„åº•å±‚ç±»å‹ï¼Œæ¥ä¼˜åŒ–å­˜å‚¨æˆ–ä¸ç‰¹å®šçš„æ¥å£å…¼å®¹ã€‚

#==ä¼ ç»Ÿæšä¸¾ï¼š==

ç‰¹å¾ï¼š

**æ²¡æœ‰ä½œç”¨åŸŸ:**æšä¸¾å€¼ç›´æ¥æš´éœ²åœ¨æšä¸¾å®šä¹‰æ‰€åœ¨çš„ä½œç”¨åŸŸä¸­ï¼Œå¯èƒ½å¯¼è‡´å‘½åå†²çªã€‚

**å…è®¸éšå¼è½¬æ¢ï¼š**æšä¸¾å€¼å¯ä»¥éšå¼è½¬æ¢ä¸ºæ•´æ•°ç±»å‹ï¼Œè€Œä¸éœ€è¦æ˜¾ç¤ºè½¬æ¢

**ä¸èƒ½æŒ‡å®šåº•å±‚ç±»å‹**ï¼š å¼±æšä¸¾çš„åº•å±‚ç±»å‹å›ºå®šä¸º `int`ï¼ˆå®ç°å¯èƒ½ä¸åŒï¼‰ï¼Œæ— æ³•æŒ‡å®šå…¶ä»–ç±»å‹ã€‚

**ç±»å‹å®‰å…¨æ€§è¾ƒä½**ï¼š å¼±æšä¸¾æ²¡æœ‰ç±»å‹é™åˆ¶ï¼Œä¸åŒæšä¸¾ç±»å‹çš„å€¼å¯ä»¥ç›¸äº’èµ‹å€¼ï¼Œè¿™å¯èƒ½å¯¼è‡´é€»è¾‘é”™è¯¯ã€‚

## constçš„ä½¿ç”¨æƒ…å†µ

**é˜²æ­¢å‚æ•°è¢«æ„å¤–ä¿®æ”¹ï¼š**å°†å‚æ•°å£°æ˜ä¸º`const`å¯ä»¥ç¡®ä¿åœ¨å‡½æ•°å†…éƒ¨ä¸ä¼šæ— æ„ä¸­ä¿®æ”¹å‚æ•°çš„å€¼ã€‚

 **å…è®¸ä¼ é€’åªè¯»å‚æ•°ï¼š**å¦‚æœå‡½æ•°å£°æ˜å‚æ•°ä¸º`const`å¼•ç”¨ï¼Œå®ƒå°±å¯ä»¥æ¥å—éå¸¸é‡å’Œå¸¸é‡å‚æ•°ï¼Œè€Œä¸éœ€è¦é¢å¤–çš„é‡è½½ã€‚

**æ€§èƒ½ä¼˜åŒ–ï¼š**é¿å…æ‹·è´å¤§å¯¹è±¡ï¼Œå¯¹äºéåŸºç¡€ç±»å‹ï¼ˆä¾‹å¦‚è‡ªå®šä¹‰ç±»æˆ–å®¹å™¨ï¼‰ï¼Œä¼ é€’å‚æ•°æ—¶é€šè¿‡`const`å¼•ç”¨è€Œä¸æ˜¯å€¼ä¼ é€’ï¼Œé¿å…äº†æ‹·è´æ•´ä¸ªå¯¹è±¡ï¼Œä»è€Œæå‡æ€§èƒ½ã€‚

 **å¢å¼ºä»£ç æ„å›¾è¡¨è¾¾ï¼š**å°†å‚æ•°æ ‡è®°ä¸º`const`å¯ä»¥æ˜ç¡®è¡¨æ˜å‡½æ•°ä¸ä¼šä¿®æ”¹å‚æ•°å†…å®¹ï¼Œå¸®åŠ©ä»£ç çš„ç»´æŠ¤è€…å¿«é€Ÿäº†è§£å‡½æ•°çš„æ„å›¾ã€‚
